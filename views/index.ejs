<!DOCTYPE html>
<html>
<head>
    <link href="index.css" rel="stylesheet" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Connexion</title>
</head>
<body>
    <div id="champ">
    <form method="post" action="/admin">
                <legend>Connexion</legend>
                <%= msg %>
                <div id="conex">
                <table>
                    <tr>
                        <td>Identifiant :</td>
                        <td><input name="login" type="text" id="login" autofocus /></td>
                    </tr>
                    <tr>
                        <td>Mot de Passe :</td>
                        <td><input type="password" name="password" id="password" /></td>
                    </tr><br>
                </table>
                </div><br>
            <input type="submit" value="connexion" />
    </form>
</div>
        <p><input type="button" value="Embêter le serveur" id="poke" /></p>

        <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>

        <script src="/socket.io/socket.io.js"></script>

        <script>

            var socket = io.connect('http://localhost:8080');

            // On demande le pseudo au visiteur...

            var pseudo = prompt('Quel est votre pseudo ?');

            // Et on l'envoie avec le signal "petit_nouveau" (pour le différencier de "message")

            socket.emit('petit_nouveau', pseudo);

            // On affiche une boîte de dialogue quand le serveur nous envoie un "message"

            socket.on('message', function(message) {

                alert('Le serveur a un message pour vous : ' + message);

            })

            // Lorsqu'on clique sur le bouton, on envoie un "message" au serveur

            $('#poke').click(function () {

                socket.emit('message', 'Salut serveur, ça va ?');

            })

        </script>
</body>
</html>